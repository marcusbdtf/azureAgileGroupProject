@inherits LayoutComponentBase
@inject Microsoft.Graph.GraphServiceClient GraphServiceClient
<Navbar/>

<div class="side-background d-flex flex-column">
    <main role="main" class="container p-0 flex-grow-1">
        <div class="body shadow">
        @Body
        </div>
    </main>
        
    <Footer />
</div>

@code{

    protected override async Task OnInitializedAsync()
    {
        var azureUser = await GraphServiceClient.Me.Request().GetAsync();
        TeamKville.Shared.SharedClass.allProducts = await HttpClient.GetFromJsonAsync<List<ProductDto>>(HttpClient.BaseAddress + "api/product");

        if(azureUser.Id != null)
        {
            TeamKville.Shared.SharedClass.activeUser = await HttpClient.GetFromJsonAsync<UserDto>(HttpClient.BaseAddress + ("api/user/" + azureUser.Id));
        }
       
    }
}

<style>

    main {
        font-family: 'Montserrat', sans-serif;
    }

    .side-background {
        min-height: 100vh;
        background-color: lightgray;
    }

    .body{
        background-color: white;
    }

</style>